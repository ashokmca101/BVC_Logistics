<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 03-21-2022
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->

<template>
     <!-- Lightning Spinner  -->
     <template if:true={isLoad}>
        <lightning-spinner variant="brand" alternative-text="Loading"></lightning-spinner>
</template> 

    <lightning-card icon-name="standard:record_signature_task"> 
        <div class="slds-form-element">
            <lightning-record-edit-form object-api-name="Delivery__c" record-id={recordid}>

                <lightning-input-field onchange={handleConsigneeNameChange} field-name="Consignee_Name__c"></lightning-input-field> 
                <lightning-input-field onchange={handleConsigneeDesignationChange} field-name="Consignee_Designation__c"></lightning-input-field>
                 
            </lightning-record-edit-form>
        </div>
       
        
        <div slot="title">
            <p>Signature Capturing</p> 
        </div> 
        <div class="slds-m-around_medium slds-box">
            <canvas class="signature-pad" width={canvasWidth} height={canvasHeight} lwc:dom="manual"></canvas>
        </div> 
        
        <lightning-file-upload class="slds-file-selector__text_integrated" name="PODUploader"  label="POD" accept={acceptedFormats} record-id={deliveryId} onuploadfinished={fileuploaddone} multiple> </lightning-file-upload>
        <lightning-file-upload class="slds-file-selector__text_integrated" name="IDUploader"  label="ID Photo" accept={acceptedFormats} record-id={shipmentId} onuploadfinished={fileuploaddone} multiple> </lightning-file-upload>
        <lightning-file-upload class="slds-file-selector__text_integrated" name="SNPUploader"  label="Shipping Note Photo (optional)" accept={acceptedFormats} record-id={shipmentId} onuploadfinished={fileuploaddone} multiple> </lightning-file-upload>
        <lightning-file-upload class="slds-file-selector__text_integrated" name="SBUploader"  label="Secure Bag Photo (Optional)" accept={acceptedFormats} record-id={shipmentId} onuploadfinished={fileuploaddone} multiple> </lightning-file-upload>
        
        <div slot="footer">  
            <lightning-button label="Complete" onclick={handleClick}></lightning-button>
        </div>
    </lightning-card>
</template>